<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatGPT Response to PDF</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon"> <!-- Link to your favicon file -->

    <!-- Meta Tags for SEO and Social Media Sharing -->
    <meta name="description" content="Convert your ChatGPT responses to a PDF format with proper formatting, syntax highlighting, and math rendering. Easy to preview and print.">
    <meta name="keywords" content="ChatGPT, PDF, preview, response, markdown, LaTeX, math rendering, syntax highlighting, print preview">
    <meta name="author" content="Your Name or Company">
    
    <!-- Open Graph Meta Tags (For Facebook, LinkedIn, etc.) -->
    <meta property="og:title" content="ChatGPT Response to PDF">
    <meta property="og:description" content="Convert ChatGPT responses to PDF format with support for syntax highlighting and math rendering. Preview, adjust, and print with ease.">
    <meta property="og:image" content="ff.png"> <!-- Replace with a valid image URL for social sharing -->
    <meta property="og:url" content="URL-of-your-page"> <!-- Replace with the actual URL of your page -->
    <meta property="og:type" content="website">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:title" content="ChatGPT Response to PDF">
    <meta name="twitter:description" content="Convert ChatGPT responses to PDF format with support for syntax highlighting and math rendering. Preview, adjust, and print with ease.">
    <meta name="twitter:image" content="ff.png"> <!-- Replace with a valid image URL for Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <!-- MathJax Configuration -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)']],
                displayMath: [['\\[', '\\]']]
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script> <!-- Include marked.js -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            height: 100vh;
            background-color: #212121; /* Dark background */
            color: #e0e0e0; /* Light text */
            flex-direction: column;
        }

        .container {
            display: flex;
            flex-direction: row;
            width: 100%;
            height: 100%;
        }

        .editor-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: 20px;
            border-right: 1px solid #333; /* Dark border */
            box-sizing: border-box;
        }

        textarea {
            flex: 1;
            width: 100%;
            font-size: 16px;
            padding: 10px;
            box-sizing: border-box;
            resize: none;
            background-color: #333; /* Dark textarea background */
            color: #e0e0e0; /* Light text */
            border: 1px solid #444; /* Dark border */
        }

        .preview-container {
            flex: 2;
            padding: 20px;
            box-sizing: border-box;
            overflow-y: auto;
            background-color: #222; /* Dark preview container */
            color: #e0e0e0; /* Light text */
        }

        pre {
            background-color: #2c2c2c; /* Dark code block background */
            padding: 10px;
            border-radius: 5px;
            font-size: 14px;
            line-height: 1.4;
            overflow-x: auto;
            color: #e0e0e0; /* Light text */
        }

        code {
            font-family: "Courier New", Courier, monospace;
            color: #ff9d00; /* Light code text */

        }

        h1, h2, h3, h4 {
            color: #ff9d00; /* Light heading color */
        }

        hr {
            border-color: #444; /* Dark horizontal rule */
        }

        .math {
            color: #ff9d00; /* Math content color */
        }

        table {
            width: 100%;
            border-collapse: collapse;
            border: 1px solid #ffffff; /* White border */
        }

        th, td {
            padding: 10px;
            text-align: left;
            border: 1px solid #ffffff; /* White border */
        }

        th {
            background-color: #383838; /* Dark header background */
            color: #ffffff; /* Light text for headers */
        }

        tr:nth-child(even) {
            background-color: #333; /* Alternate row background color */
        }

        tr:hover {
            background-color: #444; /* Hover effect for rows */
        }
        
        :not(pre)>code[class*=language-], pre[class*=language-] {
            background: black;
        }
        code[class*=language-], pre[class*=language-] {
            color: white;
            background: 0 0;
            text-shadow: none;
            background-color: #0d0d0d; /* Dark preview container */

        }
        .token.operator, .token.url {
            color: #d08113;
            background: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="editor-container">
            <textarea id="response-input" placeholder="Paste ChatGPT response here..."></textarea>
        </div>
        <div class="preview-container" id="preview-output">
            <!-- Preview will appear here -->
        </div>
    </div>

    <!-- Print Button -->
    <button onclick="printPreview()" style="position: absolute; top: 20px; right: 20px; background-color: #ff9d00; color: #181818; padding: 10px 15px; border: none; font-size: 16px; cursor: pointer;">
        Print Preview
    </button>

    <script>
        const inputElement = document.getElementById('response-input');
        const preview = document.getElementById('preview-output');

        inputElement.addEventListener('input', () => generatePreview());

        function generatePreview() {
            let input = inputElement.value;

            // Step 1: Escape backslashes for Math expressions
            input = input.replace(/\\([\\\[\](){}^_])/g, '\\\\$1');

            // Clear previous output
            preview.innerHTML = '';

            // Check if input is empty
            if (input.trim() === '') {
                preview.innerHTML = 'Please paste a ChatGPT response to preview.';
                return;
            }

            // Step 2: Use marked.js to convert the Markdown to HTML
            let htmlContent = marked.parse(input);

            // Step 3: Render the HTML content in the preview container
            preview.innerHTML = htmlContent;

            // Step 4: Trigger MathJax to render LaTeX math expressions
            MathJax.typesetPromise([preview]).catch((err) => console.log(err));

            // Step 5: Highlight code syntax
            Prism.highlightAll();
        }

        function printPreview() {
            // Create a new window for printing the preview
            const printWindow = window.open('', '', 'height=600,width=800');

            // Get the content of the preview container
            const previewContent = document.getElementById('preview-output').innerHTML;

            // Add necessary styles to the print window
            printWindow.document.write('<html><head><title>Print Preview</title>');
            printWindow.document.write(`
                <style>
                    body {
                        font-family: Arial, sans-serif;
                        color: black;
                        background-color: white;
                        margin: 20px;
                    }
                    table, th, td {
                        border: 1px solid black;
                        border-collapse: collapse;
                    }
                    th, td {
                        padding: 8px;
                        text-align: left;
                    }
                    pre {
                        background-color: #f4f4f4;
                        padding: 10px;
                        border: 1px solid #ccc;
                        font-size: 14px;
                        color: #333;
                        white-space: pre-wrap;
                        word-wrap: break-word;
                    }
                    code {
                        font-family: "Courier New", Courier, monospace;
                        color: black;
                    }
                </style>
            `);
            printWindow.document.write('</head><body>');
            printWindow.document.write(previewContent);
            printWindow.document.write('</body></html>');

            // Wait for the content to be fully loaded, then print
            printWindow.document.close();
            printWindow.print();
        }
    </script>
</body>
</html>
