<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Response to PDF</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon"> <!-- Link to your favicon file -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css">
    <!-- Meta Tags for SEO and Social Media Sharing -->
    <meta name="description" content="Edit Store Share ChatGPT response (formulas, tables, code) to PDF">
    <meta name="keywords" content="ChatGPT, PDF, preview, response, markdown, LaTeX, math rendering, syntax highlighting, print preview">
    <meta name="author" content="Your Name or Company">
    
    <!-- Open Graph Meta Tags (For Facebook, LinkedIn, etc.) -->
    <meta property="og:title" content="ChatGPT Response to PDF">
    <meta property="og:description" content="Edit Store Share ChatGPT response (formulas, tables, code) to PDF">
    <meta property="og:image" content="ff.png"> <!-- Replace with a valid image URL for social sharing -->
    <meta property="og:url" content="URL-of-your-page"> <!-- Replace with the actual URL of your page -->
    <meta property="og:type" content="website">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:title" content="ChatGPT Response to PDF">
    <meta name="twitter:description" content="Edit Store Share ChatGPT response (formulas, tables, code) to PDF">
    <meta name="twitter:image" content="ff.png"> <!-- Replace with a valid image URL for Twitter -->
    <meta name="twitter:card" content="summary_large_image">

    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)']],
                displayMath: [['\\[', '\\]']]
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script> <!-- Include marked.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

    
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            height: 100vh;
            /* background-color: #212121; */
            /* color: #e0e0e0; */
            flex-direction: column;
            overflow: hidden;  /* add this to prevent overall page scroll */

        }
         .token.operator {
            color: #9a6e3a;
            background:none;
        }
        /* Navbar Styles */
        .navbar {
            background-color: #333;
            color: white;
            display: flex;
            justify-content: space-between;
            padding: 10px 20px;
            
            align-items: center;
            /* position: fixed;
            top: 0; */
            /* width: 100%; */
            /* z-index: 1000; */
        }

        .navbar button {
            background-color: #ff9d00;
            color: #181818;
            padding: 10px 15px;
            border: none;
            font-size: 16px;
            cursor: pointer;
            border-radius: 6px;
            /* margin-inline:10px ; */
        }

        .navbar button:hover {
            background-color: #e08900;
        }

        .container {
            display: flex;
            width: 100%;
            height: 91.6%;
            position: relative;
            margin-bottom: 5px; /* Adjust to give space for the navbar */
        }

        .editor-container, .preview-container {
            display: flex;
            flex-direction: column;
            padding: 10px 5px;
            box-sizing: border-box;
            overflow-y: auto;
        }

        .editor-container {
            
            background-color: #333;
            color: #e0e0e0;
        }

     .preview-container {
            padding-left: 15px;
            flex: 2;            
        } 

        textarea {
            flex: 1;
            width: 99%;
            font-size: 16px;
            padding: 0px;
            background-color: #333;
            color: #e0e0e0;
            border: 1px solid #444;
            resize: none;
        }

        .resize-bar {
            width: 10px;
            cursor: ew-resize;
            background-color: #444;
            position: absolute;
            top: 0;
            height: 100%;
        }

        .resize-bar:hover {
            background-color: #ff9d00;
        }

        .preview-container {
            flex-grow: 1;
        }

        .editor-container {
            flex-grow: 1;
        }
        hr {
            border: 0;
            border-top: 2px solid #333333;
            margin: 24px 0;
            height: .25em;
        }

        pre {
            background-color: #f2f1f1 !important;
            border-radius: 5px;
            font-size: 14px;
            line-height: 1.4;
            overflow: visible !important;
            color: #000000;
        }

        code {
            font-family: "Courier New", Courier, monospace !important;
            color: #000000 !important;
            text-shadow: none !important;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            border: 1px solid #000000;
        }

        th, td {
            padding: 10px;
            text-align: left;
            border: 1px solid #000000;
        }

        th {
            background-color: #383838;
            color: #ffffff;
        }

        /* tr:nth-child(even) {
            background-color: #ffffff;
        } */

        /* tr:hover {
            background-color: #ffffff;
        } */

        .math {
            color: #ff9d00;
        }
    </style>

    
</head>
<body>
    
    <!-- Navbar with Print button -->
    <div class="navbar"  >
        <div>
            <button id="installButton" style="display: none;">Install App</button>
        <p style="margin: 0px;">
            <a href="mailto:jeevjacobgeorge@gmail.com" style="color: #faa404; margin: 0 5px; text-decoration: none;">
            <img src="https://img.icons8.com/ios-filled/16/ff9d00/mail.png" alt="Email Icon"/>
            </a> 
            <a href="https://linkedin.com/in/jeev-george" target="_blank" style="color: #faa404; margin: 0 5px;text-decoration: none;">
            <img src="https://img.icons8.com/ios-filled/16/ff9d00/linkedin.png" alt="LinkedIn Icon"/>
            </a> 
            <a href="https://github.com/jeevjacobgeorge" target="_blank" style="color: #faa404; margin: 0 0px;">
            <img src="https://img.icons8.com/ios-filled/16/ff9d00/github.png" alt="GitHub Icon"/>
            </a>
        </p>
        </div>

        <p  style="margin: 0px" >Edit Share & Store multiple ChatGPT responses to single PDF. </p>
        <button onclick="printPreview()">Print</button>
    </div>

    <!-- Main content area -->
    <div class="container">
        <div class="editor-container">
            <textarea id="response-input" placeholder="Paste ChatGPT response here..." autofocus></textarea>
        </div>

        <div class="resize-bar" id="resize-bar"></div>

        <div class="preview-container" id="preview-output">
            <!-- Preview will appear here -->
        </div>
    </div>
    <!-- Footer -->
    <!-- Custom install button (hidden by default) -->



    <script>
        const inputElement = document.getElementById('response-input');
        const preview = document.getElementById('preview-output');
        const resizeBar = document.getElementById('resize-bar');
        const container = document.querySelector('.container');
        let isResizing = false;

        inputElement.addEventListener('input', () => generatePreview());

        function generatePreview() {
            let input = inputElement.value;
            input = input.replace(/\\([\\\[\](){}^_])/g, '\\\\$1');
            preview.innerHTML = '';
            if (input.trim() === '') {
                preview.innerHTML = 'Please paste a ChatGPT response to preview.';
                return;
            }
            let htmlContent = marked.parse(input);
            preview.innerHTML = htmlContent;
            MathJax.typesetPromise([preview]).catch((err) => console.log(err));
            Prism.highlightAll();             
        }

        resizeBar.addEventListener('mousedown', (e) => {
            isResizing = true;
            document.addEventListener('mousemove', handleMouseMove);
            document.addEventListener('mouseup', () => {
                isResizing = false;
                document.removeEventListener('mousemove', handleMouseMove);
            });
        });

        function handleMouseMove(e) {
            if (isResizing) {
                const containerRect = container.getBoundingClientRect();
                const newWidth = e.clientX - containerRect.left;
                const minWidth = 100;
                const maxWidth = containerRect.width - minWidth;

                if (newWidth >= minWidth && newWidth <= maxWidth) {
                    const editorWidth = newWidth;
                    const previewWidth = containerRect.width - newWidth - resizeBar.offsetWidth;

                    document.querySelector('.editor-container').style.flex = `0 0 ${editorWidth}px`;
                    document.querySelector('.preview-container').style.flex = `0 0 ${previewWidth}px`;
                    resizeBar.style.left = `${newWidth}px`;
                }
            }
        }

        // Set initial resize
        const containerRect = container.getBoundingClientRect();
        const initialWidth = containerRect.width / 2.5;
        document.querySelector('.editor-container').style.flex = `0 0 ${initialWidth}px`;
        document.querySelector('.resize-bar').style.left = `${initialWidth}px`;

        // Print preview function
        function printPreview() {
            const printWindow = window.open('', '', 'height=600,width=800');
            const previewContent = document.getElementById('preview-output').innerHTML;
            const firstHeading = document.getElementById('preview-output').querySelector('h1, h2, h3, h4, h5, h6');
            const fileName = firstHeading ? firstHeading.textContent.trim() : 'Document';
            printWindow.document.write('<html><head><title>'+fileName+'</title>');
            printWindow.document.write(`
                <style>
                    body {
                        font-family: Arial, sans-serif;
                        color: black;
                        background-color: white;
                        margin: 20px;
                    }
                    table, th, td {
                        border: 1px solid black;
                        border-collapse: collapse;
                    }
                    th, td {
                        padding: 8px;
                        text-align: left;
                    }
                    pre {
                        background-color: #f4f4f4;
                        padding: 10px;
                        border: 1px solid #ccc;
                        font-size: 14px;
                        color: #333;
                        white-space: pre-wrap;
                        word-wrap: break-word;
                    }
                    code {
                    font-family: "Courier New", Courier, monospace;
                    color: black;
                    }
                </style>
            `);
            
            printWindow.document.write('</head><body>');
            printWindow.document.write(previewContent);
            printWindow.document.write('</body></html>');
            printWindow.document.close();
            printWindow.print();
        }

        // Handle unsaved changes when trying to close the tab
        let isContentChanged = false;
        inputElement.addEventListener('input', () => {
            isContentChanged = true;
        });

        window.addEventListener('beforeunload', (e) => {
            if (isContentChanged) {
                const message = 'Changes you made may not be saved. Do you want to leave?';
                e.returnValue = message; // Standard for most browsers
                return message; // For some older browsers
            }
        });
    

        // Add a default content on page load
        
            const defaultContent = `## ChatGPT Response to PDF Converter
- Copy content from ChatGPT or any source. 
- ![image](copy_img.png)
- Then **CTRL+A** and **CTRL+V** to paste content on the **left text editor** and see a **preview on the right side**.
- Click **Print** to **save your content as a PDF** or **directly print** it.  

The converter supports **LaTeX-style mathematical expressions**, like:
\\[\\int_0^\\infty e^{-x^2}dx = \\frac{\\sqrt{\\pi}}{2}\\]

### Code Snippets
\`\`\`python
# Python Example: Fibonacci Sequence
def fibonacci(n):
    a, b = 0, 1
    for _ in range(n):
        print(a, end=" ")
        a, b = b, a + b
fibonacci(10)
\`\`\`
### Tables
| Feature         | Online Converters | ChatGPT MD to PDF |
|----------------|------------------|------------------|
| Requires Internet | Yes              | No               |
| Privacy         | Low              | High             |
| Speed          | Variable         | Instant         |
## Why Use This Tool?
Unlike online converters that **upload your data to unknown servers**, this tool keeps everything **secure and private** by running **entirely client-side**. That means:
- Your **data never leaves your device**.
- You can **convert markdown to PDF even offline**.
- It works **fast and efficiently** without dependency on external services.`;
            inputElement.value = defaultContent;
            
            generatePreview();
    
      </script>
      


    
<script>
    let deferredPrompt;
  
    window.addEventListener('beforeinstallprompt', (e) => {
      // Prevent the mini-info bar from appearing on mobile.
      e.preventDefault();
      // Save the event so it can be triggered later.
      deferredPrompt = e;
      // Display your custom install button.
      document.getElementById('installButton').style.display = 'block';
    });
  
    // Listen for the install button click
    document.getElementById('installButton').addEventListener('click', () => {
      if (deferredPrompt) {
        deferredPrompt.prompt();
        deferredPrompt.userChoice.then((choiceResult) => {
          if (choiceResult.outcome === 'accepted') {
            console.log('User accepted the install prompt');
          } else {
            console.log('User dismissed the install prompt');
          }
          deferredPrompt = null;
          // Optionally hide the install button after prompt
          document.getElementById('installButton').style.display = 'none';
        });
      }
    });
    if ('serviceWorker' in navigator) {
          navigator.serviceWorker.register('/sw.js')
            .then(registration => {
              console.log('Service Worker registered with scope:', registration.scope);
            })
            .catch(error => {
              console.error('Service Worker registration failed:', error);
            });
        }
  </script>
</body>
</html>
